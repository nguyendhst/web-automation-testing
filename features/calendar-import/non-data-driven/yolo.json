{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"u;rd1Da6eUCR=Y/Bb~:Y\">button</variable><variable id=\"(F)aR2?[=OEZF:SfGw-g\">nhietdo</variable><variable id=\")X2k56n3E|m}^)D_(3A9\">thông tin</variable><variable id=\"7Re8t@!][187~Tr?d)44\">doam</variable></variables><block type=\"procedures_defnoreturn\" id=\"3.!i`~SvY,U%Ef^mQcx3\" x=\"-937\" y=\"-163\"><field name=\"NAME\">button</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"yolobit_mqtt_on_receive_message\" id=\"WT;.ZJv;fs7KK(Yy@_8l\"><field name=\"message\" id=\"u;rd1Da6eUCR=Y/Bb~:Y\">button</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"f%NJL}b_yP-l-zT5lL94\"><field name=\"TEXT\">mokhoa</field></shadow></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"_Ma?|j1G4vWasrK;|r:0\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"7Xf9!j=PO.!B$SJ6udgf\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"n4?b|[wr.{Vw_W3BMnJ%\"><field name=\"VAR\" id=\"u;rd1Da6eUCR=Y/Bb~:Y\">button</field></block></value><value name=\"B\"><block type=\"text\" id=\"b=f:WmG=1r0BE;;mwyPG\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"homebit3_lcd1602_clear\" id=\"$i)QqAwi1dX:34Ksc93*\"><next><block type=\"homebit3_lcd1602_display\" id=\"!^hH$PZQ#@_wHC7w9zLA\"><value name=\"string\"><shadow type=\"text\" id=\"o7:DtfLFmSQiPURg3Dtj\"><field name=\"TEXT\">mokhoa</field></shadow></value><value name=\"X\"><shadow type=\"math_number\" id=\"dZBZtJ5+{6xkV72){!x(\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"-_!V*jc$dL_1nn+G5RK-\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"yolobit_pin_servo_write_angle\" id=\"`~#GPC~.9rzE@6B3A2oy\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"x=:3$BI5]q0=1$e|q`Kp\"><field name=\"NUM\">90</field></shadow></value></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"homebit3_lcd1602_clear\" id=\"VbRx{EV.`flR8CClB|G]\"><next><block type=\"homebit3_lcd1602_display\" id=\"O1Sv@xhtH]1]{71abi)M\"><value name=\"string\"><shadow type=\"text\" id=\"A$Fx~IO58t^YY4TMm9;$\"><field name=\"TEXT\">khoa</field></shadow></value><value name=\"X\"><shadow type=\"math_number\" id=\"^gfBXLa8r:w;roP1!yL$\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"P0{{VW2q{6?-ooNU^sHA\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"yolobit_pin_servo_write_angle\" id=\"$bro1p@wEl^yy%!Sy1K$\"><field name=\"pin\">4</field><value name=\"angle\"><shadow type=\"math_number\" id=\"@!GK4@6$5~%(/%e^J+Vd\"><field name=\"NUM\">0</field></shadow></value></block></next></block></next></block></statement></block></statement><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"Md%[-+O!X[K.RUGvQI]F\"><field name=\"message\" id=\")X2k56n3E|m}^)D_(3A9\">thông tin</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"{aEb@O7!t~*iyA}zy2bq\"><field name=\"TEXT\">ai</field></shadow></value><statement name=\"ACTION\"><block type=\"homebit3_lcd1602_clear\" id=\"B(,=/ZWZ8Gf%znmP95Jq\"><next><block type=\"homebit3_lcd1602_display\" id=\"]GIi=|j}ag0$/-1eAYq=\"><value name=\"string\"><shadow type=\"text\" id=\"A)]gPzn=pQdt2;zWh}Di\"><field name=\"TEXT\">mokhoa</field></shadow><block type=\"variables_get\" id=\"wxq4xvZ*!jN{7jCyySkK\"><field name=\"VAR\" id=\")X2k56n3E|m}^)D_(3A9\">thông tin</field></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"2C`|41^Tv,Zp$yFx%rDP\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"XXtA,){EG+9AB32HQ_SA\"><field name=\"NUM\">0</field></shadow></value></block></next></block></statement></block></next></block></statement></block><block type=\"yolobit_events_timer\" id=\"~*A]g72kp`DVy!SSk-b-\" x=\"-313\" y=\"-113\"><value name=\"INTERVAL\"><shadow type=\"math_number\" id=\"j@fCy|faUv?]`F,~Y/i|\"><field name=\"NUM\">30</field></shadow></value><statement name=\"ACTION\"><block type=\"aiot_dht_measure\" id=\".91i25n`F@B;UmS_grk~\"><next><block type=\"variables_set\" id=\"!3r?p8zZmk;LVu?1?mK@\"><field name=\"VAR\" id=\"(F)aR2?[=OEZF:SfGw-g\">nhietdo</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\"PyU6}5l6`5R1s_[1PU=J\"><field name=\"DATA\">TEMP</field></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"5vhk$8N88!xz/ch{gKJQ\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"ff-9!@_+b.NZI3f_C5`8\"><field name=\"TEXT\">sdjhfds</field></shadow><block type=\"variables_get\" id=\".ec3@-S9I{Ad4w^TakzE\"><field name=\"VAR\" id=\"(F)aR2?[=OEZF:SfGw-g\">nhietdo</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"27e:*VZ]o^Te|[Mp|2K0\"><field name=\"TEXT\">nhietdo</field></shadow></value><next><block type=\"variables_set\" id=\"?cxrpPAg+dbQ5UWn0QP)\"><field name=\"VAR\" id=\"7Re8t@!][187~Tr?d)44\">doam</field><value name=\"VALUE\"><block type=\"aiot_dht_read\" id=\"!JI=a=b;lE?uGWEWS8X0\"><field name=\"DATA\">HUMID</field></block></value><next><block type=\"yolobit_mqtt_publish\" id=\"Ut`@+A;]%+?Il2jT1j4o\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"ff-9!@_+b.NZI3f_C5`8\"><field name=\"TEXT\">sdjhfds</field></shadow><block type=\"variables_get\" id=\"`*DmgG,p]|?NbFW06~J6\"><field name=\"VAR\" id=\"7Re8t@!][187~Tr?d)44\">doam</field></block></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"=d)Kxd_r(`3x/!+ds:m$\"><field name=\"TEXT\">doam</field></shadow></value><next><block type=\"yolobit_mqtt_publish\" id=\"QWp|z(HAsI2FCYLZ!9Ws\"><value name=\"MESSAGE\"><shadow type=\"text\" id=\"9y_LadVDI-uwg*u}jjec\"><field name=\"TEXT\">T 25 30 H 25 30</field></shadow></value><value name=\"TOPIC\"><shadow type=\"text\" id=\"j|n6Y59B3pL{=vGaE*)D\"><field name=\"TEXT\">ai</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"yolobit_basic_forever\" id=\"w5Bl*-!,Ihc8X2tI)wP*\" x=\"137\" y=\"113\"><statement name=\"ONSTART\"><block type=\"yolobit_basic_show_image\" id=\"Toq?aBXg0|yf|%*JV;B~\"><value name=\"image\"><block type=\"yolobit_basic_image_builtins\" id=\"q-6Pkk#y56@N[c)*nP*b\"><field name=\"image\">HEART</field></block></value><next><block type=\"yolobit_basic_sleep\" id=\"r4+mgAXt|:J@mieK(tN7\"><value name=\"duration\"><shadow type=\"math_number\" id=\"Kboc{|T.~q}%F0$12MZ9\"><field name=\"NUM\">1000</field></shadow></value><next><block type=\"yolobit_basic_clear_display\" id=\"88r:QT9Ut,bL#A)KA6|2\"><next><block type=\"yolobit_mqtt_connect_wifi\" id=\"+G^gb_h`O]!UsCru($6g\"><value name=\"WIFI\"><shadow type=\"text\" id=\"Q2s;)D[b=.L@o0y}:pUI\"><field name=\"TEXT\">abc</field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text\" id=\"GAoB3x{3BzNpKf0Avtgi\"><field name=\"TEXT\">12345678.</field></shadow></value><next><block type=\"yolobit_mqtt_connect_default_servers\" id=\"+VFoKd1G4E)97{b56Pi4\"><field name=\"SERVER\">io.adafruit.com</field><value name=\"USERNAME\"><shadow type=\"text\" id=\"99;.C1bG_z2k)CD+y7Uv\"><field name=\"TEXT\">leanhthi1</field></shadow></value><value name=\"KEY\"><shadow type=\"text\" id=\"KEaiUa%%|r9*pe3)gb(*\"><field name=\"TEXT\">aio_yUgv45eUIbZSJTS7OtY2KWcCpDzq</field></shadow></value></block></next></block></next></block></next></block></next></block></statement><statement name=\"FOREVER\"><block type=\"procedures_callnoreturn\" id=\"SKuWd`^N|7{Qm4R,GTv:\"><mutation name=\"button\"></mutation><next><block type=\"yolobit_events_run\" id=\"Yf1cl*}OU!H[n/5@{|TF\"></block></next></block></statement></block></xml>","python":"from mqtt import *\nfrom homebit3_lcd1602 import LCD1602\nfrom yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nfrom event_manager import *\nfrom machine import Pin, SoftI2C\nfrom aiot_dht20 import DHT20\nimport time\n\nlcd1602 = LCD1602()\n\ndef on_mqtt_message_receive_callback__mokhoa_(button):\n  global nhietdo, doam, th_C3_B4ng_tin\n  if button == '1':\n    lcd1602.clear()\n    lcd1602.move_to(0, 0)\n    lcd1602.putstr('mokhoa')\n    pin4.servo_write(90)\n  else:\n    lcd1602.clear()\n    lcd1602.move_to(0, 0)\n    lcd1602.putstr('khoa')\n    pin4.servo_write(0)\n\ndef on_mqtt_message_receive_callback__ai_(th_C3_B4ng_tin):\n  global button, nhietdo, doam\n  lcd1602.clear()\n  lcd1602.move_to(0, 0)\n  lcd1602.putstr(th_C3_B4ng_tin)\n\n# Mô tả hàm này...\ndef button2():\n  global button, nhietdo, th_C3_B4ng_tin, doam, aiot_dht20, lcd1602\n  mqtt.on_receive_message('mokhoa', on_mqtt_message_receive_callback__mokhoa_)\n  mqtt.on_receive_message('ai', on_mqtt_message_receive_callback__ai_)\n\nevent_manager.reset()\n\naiot_dht20 = DHT20(SoftI2C(scl=Pin(22), sda=Pin(21)))\n\ndef on_event_timer_callback_A_g_k_p_D():\n  global button, nhietdo, doam, th_C3_B4ng_tin\n  aiot_dht20.read_dht20()\n  nhietdo = aiot_dht20.dht20_temperature()\n  mqtt.publish('nhietdo', nhietdo)\n  doam = aiot_dht20.dht20_humidity()\n  mqtt.publish('doam', doam)\n  mqtt.publish('ai', 'T 25 30 H 25 30')\n\nevent_manager.add_timer_event(30000, on_event_timer_callback_A_g_k_p_D)\n\nif True:\n  display.show(Image.HEART)\n  time.sleep_ms(1000)\n  display.clear()\n  mqtt.connect_wifi('abc', '12345678.')\n  mqtt.connect_broker(server='io.adafruit.com', port=1883, username='leanhthi1', password='aio_yUgv45eUIbZSJTS7OtY2KWcCpDzq')\n\nwhile True:\n  button2()\n  event_manager.run()\n","name":"untitledabc","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_homebit_v3","src":"https://github.com/AITT-VN/yolobit_homebit_v3","name":"HOME:BIT V3","description":"Mục mở rộng dành cho bộ kit nhà thông minh version 3"},{"id":"yolobit-AITT-VN-yolobit_homebit_v3","src":"https://github.com/AITT-VN/yolobit_homebit_v3","name":"HOME:BIT V3","description":"Mục mở rộng dành cho bộ kit nhà thông minh version 3"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"},{"id":"yolobit-AITT-VN-yolobit_extension_events","src":"https://github.com/AITT-VN/yolobit_extension_events","name":"SỰ KIỆN","description":"Mục mở rộng hỗ trợ sử dụng sự kiện trong chương trình"}],"device":"yolobit"}